{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","utils/auth.js","components/Card.js","components/Main.js","components/Header.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/ProtectedRoute.js","components/AuthForm.js","components/Register.js","components/Login.js","images/ok.svg","images/err.svg","components/InfoTooltip.js","components/App.js","index.js"],"names":["CurrentUserContext","createContext","api","url","headers","this","_url","_headers","res","ok","json","Promise","reject","status","all","getUserInfo","getInitialCards","data","fetch","method","body","JSON","stringify","avatar","then","_getStatus","name","about","card","link","cardId","id","like","authorization","BASE_URL","Card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","className","onClick","type","alt","src","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","Header","email","onSignOut","path","to","exact","Footer","Date","getFullYear","ImagePopup","isClose","PopupWithForm","title","isOpen","onClose","children","onSubmit","buttonText","action","defaultValue","AddPlacePopup","isLoading","useState","setTitle","setLink","useEffect","e","preventDefault","htmlFor","value","onChange","target","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","EditProfilePopup","onUpdateProfile","setName","setAbout","ProtectedRoute","Component","component","props","loggedIn","AuthForm","btnText","password","handleChangeEmail","handleChangePassword","handleSubmit","pattern","Register","onRegister","setEmail","setPassword","Login","onLogin","InfoTooltip","isSuccess","aria-label","okIcon","errIcon","msg","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","infoTooltipPopup","setInfoTooltipPopup","setIsSuccess","history","useHistory","setIsLoading","handleConfirmRegister","bool","closeAllPopups","getServerData","userData","initialCards","catch","error","console","log","tokenCheck","useCallback","token","jwt","localStorage","getItem","Authorization","Error","push","err","Provider","removeItem","setItem","message","login","register","likeCard","newCard","c","deleteCard","filter","setUserInfo","finally","item","addCard","updateAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+MAEaA,EAAqBC,0B,gBCoFrBC,EAAM,I,WArFjB,cAA+B,IAAjBC,EAAgB,EAAhBA,IAAKC,EAAW,EAAXA,QAAW,oBAC5BC,KAAKC,KAAOH,EACZE,KAAKE,SAAWH,E,8CAIlB,SAAWI,GACT,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,mBAA2BJ,EAAIK,W,2BAI1C,WACE,OAAOF,QAAQG,IAAI,CAACT,KAAKU,cAAeV,KAAKW,sB,0BAI/C,SAAaC,GACX,OAAOC,MAAM,GAAD,OAAIb,KAAKC,KAAT,oBAAiC,CAC3Ca,OAAQ,QACRf,QAASC,KAAKE,SACda,KAAMC,KAAKC,UAAU,CACnBC,OAAQN,EAAKM,WAEdC,KAAKnB,KAAKoB,c,yBAIf,WACE,OAAOP,MAAM,GAAD,OAAIb,KAAKC,KAAT,aAA0B,CACpCF,QAASC,KAAKE,WACbiB,KAAKnB,KAAKoB,c,yBAIf,SAAYR,GACV,OAAOC,MAAM,GAAD,OAAIb,KAAKC,KAAT,aAA0B,CACpCa,OAAQ,QACRf,QAASC,KAAKE,SACda,KAAMC,KAAKC,UAAU,CACnBI,KAAMT,EAAKS,KACXC,MAAOV,EAAKU,UAEbH,KAAKnB,KAAKoB,c,6BAIf,WACE,OAAOP,MAAM,GAAD,OAAIb,KAAKC,KAAT,UAAuB,CACjCa,OAAQ,MACRf,QAASC,KAAKE,WACbiB,KAAKnB,KAAKoB,c,qBAIf,SAAQG,GACN,OAAOV,MAAM,GAAD,OAAIb,KAAKC,KAAT,UAAuB,CACjCa,OAAQ,OACRf,QAASC,KAAKE,SACda,KAAMC,KAAKC,UAAU,CACnBI,KAAME,EAAKF,KACXG,KAAMD,EAAKC,SAEZL,KAAKnB,KAAKoB,c,wBAIf,SAAWK,GACT,OAAOZ,MAAM,GAAD,OAAIb,KAAKC,KAAT,kBAAuBwB,GAAU,CAC3CX,OAAQ,SACRf,QAASC,KAAKE,WACbiB,KAAKnB,KAAKoB,c,sBAIf,SAASM,EAAIC,GACX,OAAOd,MAAM,GAAD,OAAIb,KAAKC,KAAT,wBAA6ByB,GAAM,CAC7CZ,OAAQa,EAAO,MAAQ,SACvB5B,QAASC,KAAKE,WACbiB,KAAKnB,KAAKoB,gB,KAIE,CAAQ,CACzBtB,IAAK,8CACLC,QAAS,CACP6B,cAAe,uCACf,eAAgB,sBC1FPC,EAAW,gC,WCGT,SAASC,EAAT,GAAgE,IAAhDP,EAA+C,EAA/CA,KAAMQ,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aACtDC,EAAcC,qBAAWxC,GAc/B,IAAMyC,EAAQb,EAAKc,MAAMC,MAAQJ,EAAYI,IACvCC,EAAUhB,EAAKiB,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEJ,MAAQJ,EAAYI,OAEvDK,EAAyB,uBAAmBP,GAAS,cACrDQ,EAAuB,qBAAiBL,GAAW,qBAEzD,OACE,qBAAIM,UAAU,OAAd,UACE,wBACEC,QAbN,WACEb,EAAaV,IAaTsB,UAAWF,EACXI,KAAK,WAEP,qBACED,QA1BN,WACEf,EAAYR,IA0BRsB,UAAU,YACVG,IAAKzB,EAAKF,KACV4B,IAAK1B,EAAKC,OAEZ,sBAAKqB,UAAU,oBAAf,UACE,oBAAIA,UAAU,cAAd,SAA6BtB,EAAKF,OAClC,sBAAKwB,UAAU,kBAAf,UACE,wBACEA,UAAWD,EACXG,KAAK,SACLD,QAjCV,WACEd,EAAWT,MAkCL,sBAAMsB,UAAU,mBAAhB,SAAoCtB,EAAKiB,MAAMU,kBCxC1C,SAASC,EAAT,GAQX,IAPFC,EAOC,EAPDA,aACAC,EAMC,EANDA,cACApB,EAKC,EALDA,aACAqB,EAIC,EAJDA,WACAC,EAGC,EAHDA,MACAxB,EAEC,EAFDA,YACAC,EACC,EADDA,WAEME,EAAcC,qBAAWxC,GAE/B,OACE,uBAAMkD,UAAU,OAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,qBACEI,IAAKf,EAAYhB,OACjB8B,IAAI,uCACJH,UAAU,oBAEZ,wBAAQC,QAASM,EAAcP,UAAU,2BAE3C,sBAAKA,UAAU,iBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BX,EAAYb,OAC3C,mBAAGwB,UAAU,uBAAb,SAAqCX,EAAYZ,WAEnD,wBACEwB,QAASO,EACTR,UAAU,gBACVE,KAAK,cAGT,wBAAQD,QAASQ,EAAYT,UAAU,eAAeE,KAAK,cAE7D,yBAASF,UAAU,UAAnB,SACE,oBAAIA,UAAU,QAAd,SACGU,EAAMC,KAAI,SAACjC,GAAD,OACT,cAACO,EAAD,CAEEP,KAAMA,EACNQ,YAAaA,EACbE,aAAcA,EACdD,WAAYA,GAJPT,EAAKe,eC1CT,SAASmB,EAAT,GAAuC,IAArBC,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,UACtC,OACE,yBAAQd,UAAU,SAAlB,UACE,qBAAKA,UAAU,iBACf,cAAC,IAAD,CAAOe,KAAK,WAAZ,SACE,cAAC,IAAD,CAAMf,UAAU,oBAAoBgB,GAAG,WAAvC,8CAIF,cAAC,IAAD,CAAOD,KAAK,WAAZ,SACE,cAAC,IAAD,CAAMf,UAAU,oBAAoBgB,GAAG,WAAvC,kFAIF,cAAC,IAAD,CAAOC,OAAK,EAACF,KAAK,IAAlB,SACE,sBAAKf,UAAU,eAAf,UACE,mBAAGA,UAAU,qBAAb,SAAmCa,IACnC,wBACEb,UAAU,mBACVC,QAASa,EACTZ,KAAK,SAHP,oDCnBK,SAASgB,IACtB,OACE,wBAAQlB,UAAU,SAAlB,SACE,oBAAGA,UAAU,oBAAb,mBACK,IAAImB,MAAOC,cADhB,qBCHS,SAASC,EAAT,GAAwC,IAAlB3C,EAAiB,EAAjBA,KAAM4C,EAAW,EAAXA,QACzC,OACE,yBACEtB,UAAS,sCAAiCtB,EAAKC,MAAQ,gBADzD,SAGE,sBAAKqB,UAAU,oDAAf,UACE,qBAAKA,UAAU,aAAaI,IAAG,UAAK1B,EAAKC,MAAQwB,IAAKzB,EAAKF,OAC3D,oBAAIwB,UAAU,cAAd,SAA6BtB,EAAKF,OAClC,wBAAQyB,QAASqB,EAASpB,KAAK,SAASF,UAAU,sBCR3C,SAASuB,EAAT,GAQX,IAPF/C,EAOC,EAPDA,KACAgD,EAMC,EANDA,MACAC,EAKC,EALDA,OACAC,EAIC,EAJDA,QACAC,EAGC,EAHDA,SACAC,EAEC,EAFDA,SACAC,EACC,EADDA,WAEA,OACE,yBAAS7B,UAAS,2BAAsBxB,EAAtB,YAA8BiD,GAAU,gBAA1D,SACE,sBAAKzB,UAAU,mBAAf,UACE,oBAAIA,UAAU,eAAd,SAA8BwB,IAC9B,uBACEM,OAAO,IACP7D,OAAO,OACP+B,UAAU,cACV4B,SAAUA,EACVpD,KAAMA,EALR,UAOGmD,EACD,wBACEzB,KAAK,SACL6B,aAAa,yDACb/B,UAAU,cACVxB,KAAK,kBAJP,SAMGqD,OAGL,wBAAQ3B,KAAK,SAASF,UAAU,eAAeC,QAASyB,SC1BjD,SAASM,EAAT,GAKX,IAJFP,EAIC,EAJDA,OACAC,EAGC,EAHDA,QACAjB,EAEC,EAFDA,WACAwB,EACC,EADDA,UAEA,EAA0BC,mBAAS,IAAnC,mBAAOV,EAAP,KAAcW,EAAd,KACA,EAAwBD,mBAAS,IAAjC,mBAAOvD,EAAP,KAAayD,EAAb,KAeA,OAbAC,qBAAU,WACRF,EAAS,IACTC,EAAQ,MACP,CAACX,IAWF,eAACF,EAAD,CACEC,MAAM,gEACNhD,KAAK,MACLqD,WAAYI,EAAY,kEAAkB,wCAC1CR,OAAQA,EACRC,QAASA,EACTE,SAfJ,SAAsBU,GACpBA,EAAEC,iBACF9B,EAAW,CACTjC,KAAMgD,EACN7C,KAAMA,KAKR,UAQE,wBAAO6D,QAAQ,kBAAkBxC,UAAU,eAA3C,UACE,uBACEyC,MAAOjB,EACPkB,SAAU,SAACJ,GAAD,OAAOH,EAASG,EAAEK,OAAOF,QACnCvC,KAAK,OACL0C,YAAY,mDACZ5C,UAAU,6CACVxB,KAAK,OACLqE,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVlE,GAAG,oBAEL,sBAAMmB,UAAU,gDAElB,wBAAOwC,QAAQ,kBAAkBxC,UAAU,eAA3C,UACE,uBACEyC,MAAO9D,EACP+D,SAAU,SAACJ,GAAD,OAAOF,EAAQE,EAAEK,OAAOF,QAClCvC,KAAK,MACL0C,YAAY,qGACZ5C,UAAU,6CACVxB,KAAK,OACLqE,UAAQ,EACRhE,GAAG,oBAEL,sBAAMmB,UAAU,mDCzDT,SAASgD,EAAT,GAKX,IAJFC,EAIC,EAJDA,eACAxB,EAGC,EAHDA,OACAC,EAEC,EAFDA,QACAO,EACC,EADDA,UAEMiB,EAAYC,iBAAO,IAazB,OAJAd,qBAAU,WACRa,EAAUE,QAAQX,MAAQ,KACzB,CAAChB,IAGF,cAACF,EAAD,CACEC,MAAM,wFACNhD,KAAK,SACLqD,WAAYI,EAAY,kEAAkB,yDAC1CL,SAhBJ,SAAsBU,GACpBA,EAAEC,iBACFU,EAAe,CACb5E,OAAQ6E,EAAUE,QAAQX,SAc1BhB,OAAQA,EACRC,QAASA,EANX,SAQE,wBAAOc,QAAQ,yBAAyBxC,UAAU,eAAlD,UACE,uBACEqD,IAAKH,EACLhD,KAAK,MACL0C,YAAY,qGACZ5C,UAAU,6CACVxB,KAAK,SACLqE,UAAQ,EACRhE,GAAG,2BAEL,sBAAMmB,UAAU,yDCrCT,SAASsD,EAAT,GAKX,IAJFC,EAIC,EAJDA,gBACA9B,EAGC,EAHDA,OACAC,EAEC,EAFDA,QACAO,EACC,EADDA,UAEM5C,EAAcC,qBAAWxC,GAC/B,EAAwBoF,mBAAS,IAAjC,mBAAO1D,EAAP,KAAagF,EAAb,KACA,EAA0BtB,mBAAS,IAAnC,mBAAOzD,EAAP,KAAcgF,EAAd,KAuBA,OAbApB,qBAAU,WACRmB,EAAQnE,EAAYb,MACpBiF,EAASpE,EAAYZ,SACpB,CAACY,EAAaoC,IAWf,eAACF,EAAD,CACEC,MAAM,4HACNhD,KAAK,OACLqD,WAAYI,EAAY,kEAAkB,yDAC1CR,OAAQA,EACRC,QAASA,EACTE,SAfJ,SAAsBU,GACpBA,EAAEC,iBACFgB,EAAgB,CACd/E,KAAMA,EACNC,MAAOA,KAKT,UAQE,wBAAO+D,QAAQ,aAAaxC,UAAU,eAAtC,UACE,uBACEE,KAAK,OACL0C,YAAY,qBACZ5C,UAAU,wCACV0C,SAnCR,SAA0BJ,GACxBkB,EAAQlB,EAAEK,OAAOF,QAmCXA,MAAOjE,GAAQ,GACfA,KAAK,OACLqE,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVlE,GAAG,eAEL,sBAAMmB,UAAU,2CAElB,wBAAOwC,QAAQ,YAAYxC,UAAU,eAArC,UACE,uBACEE,KAAK,OACL0C,YAAY,kCACZ5C,UAAU,uCACV0C,SA9CR,SAA2BJ,GACzBmB,EAASnB,EAAEK,OAAOF,QA8CZA,MAAOhE,GAAgB,GACvBD,KAAK,QACLqE,UAAQ,EACRC,UAAU,IACVC,UAAU,MACVlE,GAAG,cAEL,sBAAMmB,UAAU,6C,oBCtET,SAAS0D,EAAT,GAA6D,IAAxBC,EAAuB,EAAlCC,UAAyBC,EAAS,6BACzE,OACE,cAAC,IAAD,UACG,kBACCA,EAAMC,SAAW,cAACH,EAAD,eAAeE,IAAY,cAAC,IAAD,CAAU7C,GAAG,gBCPlD,SAAS+C,EAAT,GASX,IARFvC,EAQC,EARDA,MACAwC,EAOC,EAPDA,QACAnD,EAMC,EANDA,MACAoD,EAKC,EALDA,SACAC,EAIC,EAJDA,kBACAC,EAGC,EAHDA,qBACAC,EAEC,EAFDA,aACAzC,EACC,EADDA,SAEA,OACE,yBAAS3B,UAAU,OAAnB,SACE,uBAAMA,UAAU,aAAa4B,SAAUwC,EAAvC,UACE,oBAAIpE,UAAU,cAAd,SAA6BwB,IAC7B,2BAAUxB,UAAU,cAApB,UACE,uBACExB,KAAK,QACL0B,KAAK,QACLmE,QAAQ,mBACRrE,UAAU,cACVyC,MAAO5B,GAAS,GAChB6B,SAAUwB,EACVtB,YAAY,QACZC,UAAQ,IAEV,uBACErE,KAAK,WACL0B,KAAK,WACLF,UAAU,cACVyC,MAAOwB,GAAY,GACnBvB,SAAUyB,EACVtB,UAAQ,EACRD,YAAY,uCACZE,UAAU,SAGd,wBAAQ9C,UAAU,YAAYE,KAAK,SAAnC,SACG8D,IAEFrC,OClCM,SAAS2C,EAAT,GAAmC,IAAfC,EAAc,EAAdA,WACjC,EAA0BrC,mBAAS,IAAnC,mBAAOrB,EAAP,KAAc2D,EAAd,KACA,EAAgCtC,mBAAS,IAAzC,mBAAO+B,EAAP,KAAiBQ,EAAjB,KAeA,OACE,cAACV,EAAD,CACEvC,MAAM,qEACNwC,QAAQ,+GACRnD,MAAOA,EACPoD,SAAUA,EACVC,kBAnBJ,SAA2B5B,GACzBkC,EAASlC,EAAEK,OAAOF,QAmBhB0B,qBAhBJ,SAA8B7B,GAC5BmC,EAAYnC,EAAEK,OAAOF,QAgBnB2B,aAbJ,SAAsB9B,GACpBA,EAAEC,iBACFgC,EAAW1D,EAAOoD,IAIlB,SASE,cAAC,IAAD,CAAMjD,GAAG,WAAWhB,UAAU,aAA9B,mKC7BS,SAAS0E,EAAT,GAA6B,IAAZC,EAAW,EAAXA,QAC9B,EAA0BzC,mBAAS,IAAnC,mBAAOrB,EAAP,KAAc2D,EAAd,KACA,EAAgCtC,mBAAS,IAAzC,mBAAO+B,EAAP,KAAiBQ,EAAjB,KAkBA,OACE,cAACV,EAAD,CACEvC,MAAM,2BACNwC,QAAQ,iCACRnD,MAAOA,EACPoD,SAAUA,EACVC,kBAtBJ,SAA2B5B,GACzBkC,EAASlC,EAAEK,OAAOF,QAsBhB0B,qBAnBJ,SAA8B7B,GAC5BmC,EAAYnC,EAAEK,OAAOF,QAmBnB2B,aAhBJ,SAAsB9B,GACpBA,EAAEC,iBACG1B,GAAUoD,GAGfU,EAAQ9D,EAAOoD,MCpBJ,UAA0B,+BCA1B,MAA0B,gCCG1B,SAASW,EAAT,GAAsD,IAA/BnD,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,QAASmD,EAAa,EAAbA,UACrD,OACE,yBAAS7E,UAAS,+BAA0ByB,GAAU,gBAAtD,SACE,sBAAKzB,UAAU,iDAAf,UACE,wBACEC,QAASyB,EACT1B,UAAU,yCACVE,KAAK,SACL4E,aAAW,+CAEb,qBACE9E,UAAU,aACVI,IAAKyE,EAAUvH,IAAMyH,EAASC,EAC9B7E,IAAK0E,EAAUvH,IAAM,6CAAY,yCAEnC,oBAAI0C,UAAU,aAAd,SACG6E,EAAUI,WCEN,SAASC,IACtB,MAA4DhD,oBAAS,GAArE,mBAAOiD,EAAP,KAA+BC,EAA/B,KACA,EAAsDlD,oBAAS,GAA/D,mBAAOmD,EAAP,KAA4BC,EAA5B,KACA,EAA0DpD,oBAAS,GAAnE,mBAAOqD,EAAP,KAA8BC,EAA9B,KACA,EAAwCtD,mBAAS,CAAE1D,KAAM,GAAIG,KAAM,KAAnE,mBAAO8G,EAAP,KAAqBC,EAArB,KACA,EAAsCxD,mBAAS,IAA/C,mBAAO7C,EAAP,KAAoBsG,EAApB,KACA,EAA0BzD,mBAAS,IAAnC,mBAAOxB,EAAP,KAAckF,EAAd,KAEA,EAAgC1D,oBAAS,GAAzC,mBAAO4B,EAAP,KAAiB+B,EAAjB,KACA,EAAgD3D,oBAAS,GAAzD,mBAAO4D,EAAP,KAAyBC,EAAzB,KACA,EAAkC7D,mBAAS,CAAE5E,KAAK,EAAO2H,IAAK,KAA9D,mBAAOJ,EAAP,KAAkBmB,GAAlB,KACA,GAA0B9D,mBAAS,IAAnC,qBAAOrB,GAAP,MAAc2D,GAAd,MACMyB,GAAUC,cAEhB,GAAkChE,oBAAS,GAA3C,qBAAOD,GAAP,MAAkBkE,GAAlB,MAcA,SAASC,GAAsBC,EAAMpB,GACnCc,GAAoB,GACpBC,GAAa,CAAE1I,IAAK+I,EAAMpB,IAAKA,IAejC,SAASqB,KACPlB,GAA0B,GAC1BE,GAAuB,GACvBE,GAAyB,GACzBO,GAAoB,GACpBL,EAAgB,CAAElH,KAAM,GAAIG,KAAM,KAlCpC0D,qBAAU,WACJyB,GACF9G,EACCuJ,gBACAjI,MAAK,YAA+B,IAAD,mBAA5BkI,EAA4B,KAAlBC,EAAkB,KAClCd,EAAea,GACfZ,EAASa,MAEVC,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,QAE/B,CAAC7C,IAiIJ,IAAMgD,GAAaC,uBAAY,WAC7B,IjBnHuBC,EiBmHjBC,EAAMC,aAAaC,QAAQ,OAC7BF,KjBpHmBD,EiBqHVC,EjBpHRjJ,MAAM,GAAD,OAAIgB,EAAJ,aAAyB,CACnCf,OAAQ,MACRf,QAAS,CACP,eAAgB,mBAChBkK,cAAc,UAAD,OAAYJ,MAG1B1I,MAAK,SAAChB,GACL,IACE,GAAmB,MAAfA,EAAIK,OACN,OAAOL,EAAIE,OAEb,GAAmB,MAAfF,EAAIK,OACN,MAAM,IAAI0J,MAAM,0OAElB,GAAmB,MAAf/J,EAAIK,OACN,MAAM,IAAI0J,MAAM,kKAElB,MAAOV,GAEP,OADAC,QAAQC,IAAIF,GACLA,MAGVrI,MAAK,SAACP,GACL,OAAOA,KAER2I,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,OiB2FzBrI,MAAK,SAAChB,GACDA,IACFuI,GAAY,GACZrB,GAASlH,EAAIS,KAAK8C,OAClBoF,GAAQqB,KAAK,SAGhBZ,OAAM,SAACa,GACNX,QAAQC,IAAIU,MAEhBtB,GAAQqB,KAAK,eAEd,CAACrB,KAMJ,OAJA5D,qBAAU,WACRyE,OACC,CAACA,KAGF,cAAChK,EAAmB0K,SAApB,CAA6B/E,MAAOpD,EAApC,SACE,sBAAKW,UAAU,OAAf,UACE,cAACY,EAAD,CAAQC,MAAOA,GAAOC,UAhC5B,WACEoG,aAAaO,WAAW,OACxBxB,GAAQqB,KAAK,KACb9C,GAAS,IACTqB,GAAY,MA8BR,eAAC,IAAD,WACE,cAAC,IAAD,CAAO9E,KAAK,WAAZ,SACE,cAAC2D,EAAD,CAAOC,QAjEjB,SAAqB9D,EAAOoD,IjB1IvB,SAAepD,EAAOoD,GAC3B,OAAOjG,MAAM,GAAD,OAAIgB,EAAJ,WAAuB,CACjCf,OAAQ,OACRf,QAAS,CACP,eAAgB,oBAElBgB,KAAMC,KAAKC,UAAU,CAAEyC,QAAOoD,eAE7B3F,MAAK,SAAChB,GACL,IACE,GAAIA,EAAIC,GACN,OAAOD,EAAIE,OAEb,GAAmB,MAAfF,EAAIK,OACN,MAAM,IAAI0J,MAAM,2KAElB,GAAmB,MAAf/J,EAAIK,OACN,MAAM,IAAI0J,MAAM,iLAElB,MAAOV,GAEP,OADAC,QAAQC,IAAIF,GACLA,MAGVrI,MAAK,SAACP,GACL,GAAIA,EAAKiJ,MAEP,OADAE,aAAaQ,QAAQ,MAAO3J,EAAKiJ,OAC1BjJ,KAGV2I,OAAM,SAACC,GACN,OAAOlJ,QAAQC,OAAOiJ,EAAMgB,aiB4G9BC,CAAM/G,EAAOoD,GACV3F,MAAK,SAACP,GACDA,EAAKiJ,QACPxC,GAAS3D,GACTgF,GAAY,GACZI,GAAQqB,KAAK,SAGhBZ,OAAM,SAACa,GACNX,QAAQC,IAAIU,EAAII,iBAyDd,cAAC,IAAD,CAAO5G,KAAK,WAAZ,SACE,cAACuD,EAAD,CAAUC,WAtDpB,SAAwB1D,EAAOoD,IjBrH1B,SAAkBpD,EAAOoD,GAC9B,OAAOjG,MAAM,GAAD,OAAIgB,EAAJ,WAAuB,CACjCf,OAAQ,OACRf,QAAS,CACP,eAAgB,oBAElBgB,KAAMC,KAAKC,UAAU,CAAEyC,QAAOoD,eAE7B3F,MAAK,SAAChB,GACL,IACE,GAAmB,MAAfA,EAAIK,OACN,OAAOL,EAAIE,OAEb,MAAOmJ,GACP,MAAM,IAAIU,MAAM,sMAGnB/I,MAAK,SAAChB,GACL,OAAOA,KAERoJ,OAAM,SAACC,GAAD,OACLC,QAAQC,IAAIF,EAAQ,CAAEgB,QAAS,uMiBiGjCE,CAAShH,EAAOoD,GACb3F,MAAK,SAAChB,GACDA,GACF8I,IAAsB,EAAM,yKAC5BH,GAAQqB,KAAK,aAEblB,IAAsB,EAAO,0MAGhCM,OAAM,SAACa,GACNX,QAAQC,IAAIU,EAAII,iBA6Cd,cAACjE,EAAD,CACE3C,KAAK,IACL+C,SAAUA,EACVF,UAAWtD,EACXE,cAhKV,WACE4E,GAA0B,IAgKlB3E,WA7JV,WACE6E,GAAuB,IA6Jf/E,aA1JV,WACEiF,GAAyB,IA0JjBtG,YA/IV,SAAyBR,GACvBgH,EAAgBhH,IA+IRgC,MAAOA,EACPvB,WAxGV,SAAwBT,GACtB,IAAMgB,EAAUhB,EAAKiB,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,MAAQJ,EAAYI,OAE3DzC,EACG8K,SAASpJ,EAAKe,KAAMC,GACpBpB,MAAK,SAACyJ,GACLnC,GAAS,SAAAlF,GAAK,OAAIA,EAAMC,KAAI,SAAAqH,GAAC,OAAIA,EAAEvI,MAAQf,EAAKe,IAAMsI,EAAUC,WAEjEtB,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,OAiGxBvH,aAlHV,SAA0BV,GACxB1B,EACGiL,WAAWvJ,EAAKe,KAChBnB,MAAK,WACJsH,GAAS,SAAAlF,GAAK,OAAIA,EAAMwH,QAAO,SAAAF,GAAC,OAAIA,EAAEvI,MAAQf,EAAKe,aAEpDiH,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,SA8G1B,cAAC,IAAD,CAAO5F,KAAK,IAAZ,SACG+C,EAAW,cAAC,IAAD,CAAU9C,GAAG,MAAS,cAAC,IAAD,CAAUA,GAAG,kBAInD,cAAC4D,EAAD,CACEnD,OAAQqE,EACRpE,QAAS4E,GACTzB,UAAWA,IAEb,cAACvB,EAAD,CACE7B,OAAQ0D,EACRzD,QAAS4E,GACT/C,gBA/IR,SAA0BxF,GACxBoI,IAAa,GACbnJ,EACGmL,YAAYpK,GACZO,MAAK,SAAChB,GACLqI,EAAerI,GACfgJ,QAEDI,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEbyB,SAAQ,kBAAMjC,IAAa,OAqIxBlE,UAAWA,KAEb,cAACD,EAAD,CACEP,OAAQ4D,EACR3D,QAAS4E,GACT7F,WAnHR,SAA8B4H,GAC5BlC,IAAa,GACbnJ,EACGsL,QAAQD,GACR/J,MAAK,SAAChB,GACLsI,EAAS,CAACtI,GAAF,mBAAUoD,KAClB4F,QAEDI,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEbyB,SAAQ,kBAAMjC,IAAa,OAyGxBlE,UAAWA,KAEb,cAACe,EAAD,CACEvB,OAAQ8D,EACR7D,QAAS4E,GACTrD,eAzKR,SAA4BlF,GAC1BoI,IAAa,GACbnJ,EACGuL,aAAaxK,GACbO,MAAK,SAAChB,GACLqI,EAAerI,GACfgJ,QAEDI,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEbyB,SAAQ,kBAAMjC,IAAa,OA+JxBlE,UAAWA,KAEb,cAACZ,EAAD,CAAY3C,KAAM+G,EAAcnE,QAASgF,KAEzC,cAACpF,EAAD,S,MCrPRsH,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAACxD,EAAD,QAGJyD,SAASC,eAAe,W","file":"static/js/main.02186465.chunk.js","sourcesContent":["import { createContext } from 'react'\n\nexport const CurrentUserContext = createContext()\n","class Api {\n  constructor({ url, headers }) {\n    this._url = url\n    this._headers = headers\n  }\n\n  // Обработка ответа сервера\n  _getStatus(res) {\n    if (res.ok) {\n      return res.json()\n    } else {\n      return Promise.reject(`Error! : ${res.status}`)\n    }\n  }\n\n  getServerData() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()])\n  }\n\n  // Обновить аватар\n  updateAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    }).then(this._getStatus)\n  }\n\n  // Запросить информацию о пользователе\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers,\n    }).then(this._getStatus)\n  }\n\n  // Обновить информацию о пользователе\n  setUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then(this._getStatus)\n  }\n\n  // Запросить карточки\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: 'GET',\n      headers: this._headers,\n    }).then(this._getStatus)\n  }\n\n  // Загрузить карточку на сервер\n  addCard(card) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: card.name,\n        link: card.link,\n      }),\n    }).then(this._getStatus)\n  }\n\n  // Удалить карточку\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._getStatus)\n  }\n\n  // Лайк карточки\n  likeCard(id, like) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: this._headers,\n    }).then(this._getStatus)\n  }\n}\n\nexport const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-23',\n  headers: {\n    authorization: '59fccf9e-6799-435b-80d6-745d3115e9a3',\n    'Content-Type': 'application/json',\n  },\n})\n","export const BASE_URL = 'https://auth.nomoreparties.co'\n\nexport function login(email, password) {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then((res) => {\n      try {\n        if (res.ok) {\n          return res.json()\n        }\n        if (res.status === 400) {\n          throw new Error('Не верно заполнено одно из полей')\n        }\n        if (res.status === 401) {\n          throw new Error('Пользователь с данным email не найден ')\n        }\n      } catch (error) {\n        console.log(error)\n        return error\n      }\n    })\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem('jwt', data.token)\n        return data\n      }\n    })\n    .catch((error) => {\n      return Promise.reject(error.message)\n    })\n}\n\nexport function register(email, password) {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then((res) => {\n      try {\n        if (res.status !== 400) {\n          return res.json()\n        }\n      } catch (error) {\n        throw new Error('Некорректно заполнено одно из полей')\n      }\n    })\n    .then((res) => {\n      return res\n    })\n    .catch((error) =>\n      console.log(error + { message: 'Некорректно заполнено одно из полей' })\n    )\n}\n\nexport function getContent(token) {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => {\n      try {\n        if (res.status === 200) {\n          return res.json()\n        }\n        if (res.status === 400) {\n          throw new Error('Токен не передан или передан не в том формате')\n        }\n        if (res.status === 401) {\n          throw new Error('Переданный токен некорректен')\n        }\n      } catch (error) {\n        console.log(error)\n        return error\n      }\n    })\n    .then((data) => {\n      return data\n    })\n    .catch((error) => console.log(error))\n}\n","import { useContext } from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nexport default function Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = useContext(CurrentUserContext)\n\n  function handleClick() {\n    onCardClick(card)\n  }\n\n  function handleClickLike() {\n    onCardLike(card)\n  }\n\n  function handleClickDelete() {\n    onCardDelete(card)\n  }\n\n  const isOwn = card.owner._id === currentUser._id\n  const isLiked = card.likes.some((i) => i._id === currentUser._id)\n\n  const cardDeleteButtonClassName = `card__delete ${isOwn && 'show-block'}`\n  const cardLikeButtonClassName = `card__like ${isLiked && 'card__like_active'}`\n\n  return (\n    <li className='card'>\n      <button\n        onClick={handleClickDelete}\n        className={cardDeleteButtonClassName}\n        type='button'\n      />\n      <img\n        onClick={handleClick}\n        className='card__img'\n        alt={card.name}\n        src={card.link}\n      />\n      <div className='card__description'>\n        <h2 className='card__title'>{card.name}</h2>\n        <div className='card__container'>\n          <button\n            className={cardLikeButtonClassName}\n            type='button'\n            onClick={handleClickLike}\n          />\n          <span className='card__like-count'>{card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import { useContext } from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nimport Card from './Card.js'\n\nexport default function Main({\n  onEditAvatar,\n  onEditProfile,\n  onCardDelete,\n  onAddPlace,\n  cards,\n  onCardClick,\n  onCardLike,\n}) {\n  const currentUser = useContext(CurrentUserContext)\n\n  return (\n    <main className='main'>\n      <section className='profile'>\n        <div className='profile__info'>\n          <div className='profile__container'>\n            <img\n              src={currentUser.avatar}\n              alt='аватар'\n              className='profile__avatar'\n            />\n            <button onClick={onEditAvatar} className='profile__avatar-btn' />\n          </div>\n          <div className='profile__about'>\n            <h1 className='profile__name'>{currentUser.name}</h1>\n            <p className='profile__description'>{currentUser.about}</p>\n          </div>\n          <button\n            onClick={onEditProfile}\n            className='profile__edit'\n            type='button'\n          />\n        </div>\n        <button onClick={onAddPlace} className='profile__add' type='button' />\n      </section>\n      <section className='gallery'>\n        <ul className='cards'>\n          {cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={onCardClick}\n              onCardDelete={onCardDelete}\n              onCardLike={onCardLike}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  )\n}\n","import { Route, Link } from 'react-router-dom'\n\nexport default function Header({ email, onSignOut }) {\n  return (\n    <header className='header'>\n      <div className='header__logo' />\n      <Route path='/sign-up'>\n        <Link className='header__auth_link' to='/sign-in'>\n          Войти\n        </Link>\n      </Route>\n      <Route path='/sign-in'>\n        <Link className='header__auth_link' to='/sign-up'>\n          Регистрация\n        </Link>\n      </Route>\n      <Route exact path='/'>\n        <div className='header__auth'>\n          <p className='header__auth_email'>{email}</p>\n          <button\n            className='header__auth_btn'\n            onClick={onSignOut}\n            type='button'\n          >\n            Выйти\n          </button>\n        </div>\n      </Route>\n    </header>\n  )\n}\n","export default function Footer() {\n  return (\n    <footer className='footer'>\n      <p className='footer__copyright'>\n        © {new Date().getFullYear()} Mesto Russia\n      </p>\n    </footer>\n  )\n}\n","export default function ImagePopup({ card, isClose }) {\n  return (\n    <section\n      className={`popup popup_type_open-photo ${card.link && 'popup_opened'}`}\n    >\n      <div className='popup__container popup__container_type_open-photo'>\n        <img className='popup__img' src={`${card.link}`} alt={card.name} />\n        <h2 className='popup__name'>{card.name}</h2>\n        <button onClick={isClose} type='button' className='popup__close' />\n      </div>\n    </section>\n  )\n}\n","export default function PopupWithForm({\n  name,\n  title,\n  isOpen,\n  onClose,\n  children,\n  onSubmit,\n  buttonText,\n}) {\n  return (\n    <section className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`}>\n      <div className='popup__container'>\n        <h2 className='popup__title'>{title}</h2>\n        <form\n          action='#'\n          method='POST'\n          className='popup__form'\n          onSubmit={onSubmit}\n          name={name}\n        >\n          {children}\n          <button\n            type='submit'\n            defaultValue='Сохранить'\n            className='popup__save'\n            name='btn-add-profile'\n          >\n            {buttonText}\n          </button>\n        </form>\n        <button type='button' className='popup__close' onClick={onClose} />\n      </div>\n    </section>\n  )\n}\n","import { useState, useEffect } from 'react'\n\nimport PopupWithForm from './PopupWithForm'\n\nexport default function AddPlacePopup({\n  isOpen,\n  onClose,\n  onAddPlace,\n  isLoading,\n}) {\n  const [title, setTitle] = useState('')\n  const [link, setLink] = useState('')\n\n  useEffect(() => {\n    setTitle('')\n    setLink('')\n  }, [isOpen])\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onAddPlace({\n      name: title,\n      link: link,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      title='Новое место'\n      name='add'\n      buttonText={isLoading ? 'Сохранение...' : 'Cоздать'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label htmlFor='card-name-input' className='popup__label'>\n        <input\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n          type='text'\n          placeholder='Название'\n          className='popup__input popup__input_string_card-name'\n          name='name'\n          required\n          minLength='2'\n          maxLength='30'\n          id='card-name-input'\n        />\n        <span className='popup__input-error card-name-input-error' />\n      </label>\n      <label htmlFor='card-link-input' className='popup__label'>\n        <input\n          value={link}\n          onChange={(e) => setLink(e.target.value)}\n          type='url'\n          placeholder='Ссылка на картинку'\n          className='popup__input popup__input_string_card-link'\n          name='link'\n          required\n          id='card-link-input'\n        />\n        <span className='popup__input-error card-link-input-error' />\n      </label>\n    </PopupWithForm>\n  )\n}\n","import { useEffect, useRef } from 'react'\n\nimport PopupWithForm from './PopupWithForm'\n\nexport default function EditAvatarPopup({\n  onUpdateAvatar,\n  isOpen,\n  onClose,\n  isLoading,\n}) {\n  const avatarRef = useRef('')\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    })\n  }\n\n  useEffect(() => {\n    avatarRef.current.value = ''\n  }, [isOpen])\n\n  return (\n    <PopupWithForm\n      title='Обновить аватар'\n      name='update'\n      buttonText={isLoading ? 'Сохранение...' : 'Сохранить'}\n      onSubmit={handleSubmit}\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <label htmlFor='card-link-input-avatar' className='popup__label'>\n        <input\n          ref={avatarRef}\n          type='url'\n          placeholder='Ссылка на картинку'\n          className='popup__input popup__input_string_card-link'\n          name='avatar'\n          required\n          id='card-link-input-avatar'\n        />\n        <span className='popup__input-error card-link-input-avatar-error' />\n      </label>\n    </PopupWithForm>\n  )\n}\n","import { useState, useEffect, useContext } from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nimport PopupWithForm from './PopupWithForm'\n\nexport default function EditProfilePopup({\n  onUpdateProfile,\n  isOpen,\n  onClose,\n  isLoading,\n}) {\n  const currentUser = useContext(CurrentUserContext)\n  const [name, setName] = useState('')\n  const [about, setAbout] = useState('')\n\n  function handleUpdateName(e) {\n    setName(e.target.value)\n  }\n\n  function handleUpdateAbout(e) {\n    setAbout(e.target.value)\n  }\n\n  useEffect(() => {\n    setName(currentUser.name)\n    setAbout(currentUser.about)\n  }, [currentUser, isOpen])\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onUpdateProfile({\n      name: name,\n      about: about,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      title='Редактировать профиль'\n      name='edit'\n      buttonText={isLoading ? 'Сохранение...' : 'Сохранить'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label htmlFor='name-input' className='popup__label'>\n        <input\n          type='text'\n          placeholder='Имя'\n          className='popup__input popup__input_string_name'\n          onChange={handleUpdateName}\n          value={name || ''}\n          name='name'\n          required\n          minLength='2'\n          maxLength='40'\n          id='name-input'\n        />\n        <span className='popup__input-error name-input-error' />\n      </label>\n      <label htmlFor='job-input' className='popup__label'>\n        <input\n          type='text'\n          placeholder='О себе'\n          className='popup__input popup__input_string_job'\n          onChange={handleUpdateAbout}\n          value={about ? about : ''}\n          name='about'\n          required\n          minLength='2'\n          maxLength='200'\n          id='job-input'\n        />\n        <span className='popup__input-error job-input-error' />\n      </label>\n    </PopupWithForm>\n  )\n}\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\nexport default function ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to='/sign-in' />\n      }\n    </Route>\n  )\n}\n","export default function AuthForm({\n  title,\n  btnText,\n  email,\n  password,\n  handleChangeEmail,\n  handleChangePassword,\n  handleSubmit,\n  children\n}) {\n  return (\n    <section className='auth'>\n      <form className='auth__form' onSubmit={handleSubmit}>\n        <h3 className='auth__title'>{title}</h3>\n        <fieldset className='auth__field'>\n          <input\n            name='email'\n            type='email'\n            pattern='\\S+@\\S+\\.\\S+'\n            className='auth__input'\n            value={email || ''}\n            onChange={handleChangeEmail}\n            placeholder='Email'\n            required\n          />\n          <input\n            name='password'\n            type='password'\n            className='auth__input'\n            value={password || ''}\n            onChange={handleChangePassword}\n            required\n            placeholder='Пароль'\n            minLength='8'\n          />\n        </fieldset>\n        <button className='auth__btn' type='submit'>\n          {btnText}\n        </button>\n        {children}\n      </form>\n    </section>\n  )\n}\n","import { useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport AuthForm from './AuthForm'\n\nexport default function Register({ onRegister }) {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value)\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onRegister(email, password)\n  }\n\n  return (\n    <AuthForm\n      title='Регистрация'\n      btnText='Зарегистрироваться'\n      email={email}\n      password={password}\n      handleChangeEmail={handleChangeEmail}\n      handleChangePassword={handleChangePassword}\n      handleSubmit={handleSubmit}\n    >\n      <Link to='/sign-in' className='auth__link'>\n        Уже зарегистрированы? Войти\n      </Link>\n    </AuthForm>\n  )\n}\n","import { useState } from 'react'\nimport AuthForm from './AuthForm'\n\nexport default function Login({ onLogin }) {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value)\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    if (!email || !password) {\n      return\n    }\n    onLogin(email, password)\n  }\n\n  return (\n    <AuthForm\n      title='Вход'\n      btnText='Войти'\n      email={email}\n      password={password}\n      handleChangeEmail={handleChangeEmail}\n      handleChangePassword={handleChangePassword}\n      handleSubmit={handleSubmit}\n    />\n  )\n}\n","export default __webpack_public_path__ + \"static/media/ok.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/err.df8eddf6.svg\";","import okIcon from '../images/ok.svg'\nimport errIcon from '../images/err.svg'\n\nexport default function InfoTooltip({ isOpen, onClose, isSuccess }) {\n  return (\n    <section className={`popup popup__tooltip ${isOpen && 'popup_opened'}`}>\n      <div className='popup__container popup__container_type_tooltip'>\n        <button\n          onClick={onClose}\n          className='popup__close popup__close_type_tooltip'\n          type='button'\n          aria-label='Закрыть'\n        />\n        <img\n          className='popup__res'\n          src={isSuccess.res ? okIcon : errIcon}\n          alt={isSuccess.res ? 'успешно' : 'ошибка'}\n        />\n        <h3 className='popup__msg'>\n          {isSuccess.msg}\n        </h3>\n      </div>\n    </section>\n  )\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport { api } from '../utils/api'\nimport { login, register, getContent } from '../utils/auth'\n\nimport Main from './Main'\nimport Header from './Header'\nimport Footer from './Footer'\n\nimport ImagePopup from './ImagePopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport EditProfilePopup from './EditProfilePopup'\n\nimport ProtectedRoute from './ProtectedRoute'\nimport Register from './Register'\nimport Login from './Login'\n\nimport InfoTooltip from './InfoTooltip'\n\nexport default function App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\n  const [selectedCard, setSelectedCard] = useState({ name: '', link: '' })\n  const [currentUser, setCurrentUser] = useState({})\n  const [cards, setCards] = useState([])\n\n  const [loggedIn, setLoggedIn] = useState(false)\n  const [infoTooltipPopup, setInfoTooltipPopup] = useState(false)\n  const [isSuccess, setIsSuccess] = useState({ res: false, msg: '' })\n  const [email, setEmail] = useState('')\n  const history = useHistory()\n\n  const [isLoading, setIsLoading] = useState(false)\n\n  useEffect(() => {\n    if (loggedIn) {\n      api\n      .getServerData()\n      .then(([userData, initialCards]) => {\n        setCurrentUser(userData)\n        setCards(initialCards)\n      })\n      .catch((error) => console.log(error))\n    }\n  }, [loggedIn])\n\n  function handleConfirmRegister(bool, msg) {\n    setInfoTooltipPopup(true)\n    setIsSuccess({ res: bool, msg: msg })\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setInfoTooltipPopup(false)\n    setSelectedCard({ name: '', link: '' })\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function handleUpdateAvatar(data) {\n    setIsLoading(true)\n    api\n      .updateAvatar(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n      .finally(() => setIsLoading(false))\n  }\n\n  function handleUpdateUser(data) {\n    setIsLoading(true)\n    api\n      .setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n      .finally(() => setIsLoading(false))\n  }\n\n  function handleDeleteCard(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards(cards => cards.filter(c => c._id !== card._id))\n      })\n      .catch((error) => console.log(error))\n  }\n\n  function handleLikeCard(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id)\n\n    api\n      .likeCard(card._id, !isLiked)\n      .then((newCard) => {\n        setCards(cards => cards.map(c => c._id === card._id ? newCard : c))\n      })\n      .catch((error) => console.log(error))\n  }\n\n  function handleAddPlaceSubmit(item) {\n    setIsLoading(true)\n    api\n      .addCard(item)\n      .then((res) => {\n        setCards([res, ...cards])\n        closeAllPopups()\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n      .finally(() => setIsLoading(false))\n  }\n\n  function handleLogin(email, password) {\n    login(email, password)\n      .then((data) => {\n        if (data.token) {\n          setEmail(email)\n          setLoggedIn(true)\n          history.push('/')\n        }\n      })\n      .catch((err) => {\n        console.log(err.message)\n      })\n  }\n\n  function handleRegister(email, password) {\n    register(email, password)\n      .then((res) => {\n        if (res) {\n          handleConfirmRegister(true, 'Вы успешно зарегистрировались!')\n          history.push('/sign-in')\n        } else {\n          handleConfirmRegister(false, 'Что-то пошло не так! Попробуйте ещё раз.')\n        }\n      })\n      .catch((err) => {\n        console.log(err.message)\n      })\n  }\n\n  function onSignOut() {\n    localStorage.removeItem('jwt')\n    history.push('/')\n    setEmail('')\n    setLoggedIn(false)\n  }\n\n  const tokenCheck = useCallback(() => {\n    const jwt = localStorage.getItem('jwt')\n    if (jwt) {\n      getContent(jwt)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true)\n            setEmail(res.data.email)\n            history.push('/')\n          }\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n      history.push('/sign-in')\n    }\n  }, [history])\n\n  useEffect(() => {\n    tokenCheck()\n  }, [tokenCheck])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className='page'>\n        <Header email={email} onSignOut={onSignOut} />\n\n        <Switch>\n          <Route path='/sign-in'>\n            <Login onLogin={handleLogin} />\n          </Route>\n          <Route path='/sign-up'>\n            <Register onRegister={handleRegister} />\n          </Route>\n          <ProtectedRoute\n            path='/'\n            loggedIn={loggedIn}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleLikeCard}\n            onCardDelete={handleDeleteCard}\n          />\n          <Route path='/'>\n            {loggedIn ? <Redirect to='/' /> : <Redirect to='/sign-in' />}\n          </Route>\n        </Switch>\n\n        <InfoTooltip\n          isOpen={infoTooltipPopup}\n          onClose={closeAllPopups}\n          isSuccess={isSuccess}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateProfile={handleUpdateUser}\n          isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n        <ImagePopup card={selectedCard} isClose={closeAllPopups} />\n\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './components/App'\n\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}